!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Jsonic=e()}}((function(){var e={};function n(e){return JSON.parse(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Jsonic=void 0;const r=String.fromCharCode("0x0000");function i(e){let n={kind:0,index:0,len:0,row:0,col:0,value:null},s=0,u=e.length,a=0,t=0;function d(e,r,l){return n.kind=i.BAD,n.index=r,n.col=t,n.len=r-s+1,n.value=l,n.why=e,n}return function(){n.len=0,n.value=null,n.row=a;let c,o=0,f=[],E=-1,b=-1,g=-1;for(;s<u;){let k=e[s];switch(k){case" ":case"\t":for(n.kind=i.SPACE,n.index=s,n.col=t++,o=s+1;i.spaces[e[o++]];)t++;return o--,n.len=o-s,n.value=e.substring(s,o),s=o,n;case"\n":case"\r":for(n.kind=i.LINE,n.index=s,n.col=t,o=s+1,t=0,a++;i.lines[e[o++]];)a++;return o--,n.len=o-s,n.value=e.substring(s,o),s=o,n;case"{":return n.kind=i.OPEN_BRACE,n.index=s,n.col=t++,n.len=1,s++,n;case"}":return n.kind=i.CLOSE_BRACE,n.index=s,n.col=t++,n.len=1,s++,n;case"[":return n.kind=i.OPEN_SQUARE,n.index=s,n.col=t++,n.len=1,s++,n;case"]":return n.kind=i.CLOSE_SQUARE,n.index=s,n.col=t++,n.len=1,s++,n;case":":return n.kind=i.COLON,n.index=s,n.col=t++,n.len=1,s++,n;case",":return n.kind=i.COMMA,n.index=s,n.col=t++,n.len=1,s++,n;case"t":if(n.kind=i.TRUE,n.index=s,n.col=t,o=s,"rue"===e.substring(o+1,o+4)&&i.ender[e[o+4]])n.value=!0,n.len=4,o+=4;else{for(;!i.ender[e[++o]];);n.kind=i.TEXT,n.len=o-s,n.value=e.substring(s,o)}return s=t=o,n;case"f":if(n.kind=i.FALSE,n.index=s,n.col=t,o=s,"alse"===e.substring(o+1,o+5)&&i.ender[e[o+5]])n.value=!1,n.len=5,o+=5;else{for(;!i.ender[e[++o]];);n.kind=i.TEXT,n.len=o-s,n.value=e.substring(s,o)}return s=t=o,n;case"n":if(n.kind=i.NULL,n.index=s,n.col=t,o=s,"ull"===e.substring(o+1,o+4)&&i.ender[e[o+4]])n.value=null,n.len=4,o+=4;else{for(;!i.ender[e[++o]];);n.kind=i.TEXT,n.len=o-s,n.value=e.substring(s,o)}return s=t=o,n;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(n.kind=i.NUMBER,n.index=s,n.col=t++,o=s;i.digital[e[++o]];);if(i.ender[e[o]]&&(n.len=o-s,n.value=+e.substring(s,o),isNaN(n.value)&&(n.value=+e.substring(s,o).replace(/_/g,"")),isNaN(n.value)&&(n.value=null,o--)),null==n.value){for(;!i.ender[e[++o]];);n.kind=i.TEXT,n.len=o-s,n.value=e.substring(s,o)}return s=t=o,n;case'"':case"'":for(n.kind=i.STRING,n.index=s,n.col=t++,b=k.charCodeAt(0),f=[],E=-1,o=s+1;o<u;o++){if(t++,(E=e.charCodeAt(o))<32)return d("unprintable",o,e.charAt(o));if(b===E){o++;break}if(92===E)switch(g=e.charCodeAt(++o),t++,g){case 110:case 116:case 114:case 98:case 102:f.push(l[g]);break;case 117:if(o++,c=String.fromCharCode("0x"+e.substring(o,o+4)),r===c)return d("invalid-unicode",o,e.substring(o-2,o+4));f.push(c),o+=3,t+=4;break;default:f.push(e[o])}else{let n=o;do{E=e.charCodeAt(++o),t++}while(32<=E&&b!==E);t--,f.push(e.substring(n,o)),o--}}return b!==E?(t=s,d("unterminated",o-1,f.join(""))):(n.value=f.join(""),n.len=o-s,s=o,n);default:for(n.index=s,n.col=t,o=s;!i.ender[e[++o]];);return n.kind=i.TEXT,n.len=o-s,n.value=e.substring(s,o),s=t=o,n}}return n.kind=i.END,n.index=u,n.col=t,n}}let l=new Array(116);l[98]="\b",l[102]="\f",l[110]="\n",l[114]="\r",l[116]="\t",i.ender={",":!0,"]":!0,"}":!0," ":!0,"\t":!0,"\n":!0,"\r":!0,undefined:!0},i.digital={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,".":!0,_:!0,x:!0,e:!0,E:!0,a:!0,A:!0,b:!0,B:!0,c:!0,C:!0,d:!0,D:!0,f:!0,F:!0},i.spaces={" ":!0,"\t":!0},i.lines={"\n":!0,"\r":!0},i.escapes=l,i.BAD=10,i.END=20,i.SPACE=100,i.LINE=200,i.OPEN_BRACE=1e3,i.CLOSE_BRACE=2e3,i.OPEN_SQUARE=3e3,i.CLOSE_SQUARE=4e3,i.COLON=5e3,i.COMMA=6e3,i.NUMBER=1e4,i.STRING=2e4,i.TEXT=3e4,i.TRUE=1e5,i.FALSE=2e5,i.NULL=3e5;let s=Object.assign(n,{use:function(e){e(n)},parse:e=>n(e),lexer:i});return e.Jsonic=s,e}));