!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Jsonic=e()}}((function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.make=e.util=e.RuleSpec=e.Rule=e.Parser=e.Lexer=e.JsonicError=e.Jsonic=void 0;const t="object",n="unexpected";class r extends SyntaxError{constructor(e,t,n,s,l){t=u.deep({},t);let o=u.deep({},{rI:l.rI,opts:l.opts,config:l.config,meta:l.meta,src:()=>l.src(),root:()=>l.root(),node:l.node,t0:l.t0,t1:l.t1,tI:l.tI,next:()=>l.next(),log:l.log,use:l.use}),i=r.make_desc(e,t,n,s,o);super(i.message),Object.assign(this,i),this.stack&&(this.stack=this.stack.split("\n").filter(e=>!e.includes("jsonic/jsonic")).map(e=>e.replace(/    at /,"at ")).join("\n"))}static make_desc(e,t,n,r,s){n={...n};let o=s.opts,i=s.meta,c=u.errinject(o.error[e]||o.error.unknown,e,t,n,r,s),a=["[31m[jsonic/"+e+"]:[0m "+(i&&i.mode?"[35m[mode:"+i.mode+"]:[0m ":"")+c,"  [34m--\x3e[0m "+(i.fileName||"<no-file>")+":"+n.row+":"+n.col,u.extract(s.src(),c,n),u.errinject((o.hint[e]||o.hint.unknown).split("\n").map((e,t)=>(0===t?" ":"  ")+e).join("\n"),e,t,n,r,s),"  [2mhttps://jsonic.richardrodger.com[0m","\n  [2m--internal: rule="+r.name+"~"+l[r.state]+", token="+s.config.token[n.pin]+"--[0m"].join("\n"),p={internal:{token:n,ctx:s}};return{...Object.create(p),message:a,code:e,details:t,meta:i,fileName:i.fileName,lineNumber:n.row,columnNumber:n.col}}toJSON(){return{...this,__error:!0,name:this.name,message:this.message,stack:this.stack}}}e.JsonicError=r;class s{constructor(e){this.match={},u.token("@LS_TOP",e),u.token("@LS_TEXT",e),u.token("@LS_CONSUME",e),u.token("@LS_MULTILINE",e),this.end={pin:u.token("#ZZ",e),loc:0,len:0,row:0,col:0,val:void 0,src:void 0}}start(e){const t=e.opts,n=e.config;let r=e=>u.token(e,n),s=e=>u.token(e,n),l=e.F,o=r("@LS_TOP"),i=r("@LS_TEXT"),c=r("@LS_CONSUME"),a=r("@LS_MULTILINE"),p=r("#ZZ"),d=r("#SP"),m=r("#CM"),h=r("#NR"),f=r("#ST"),g=r("#TX"),b=r("#VL");r("#LN");let k={pin:p,loc:0,row:0,col:0,len:0,val:void 0,src:void 0},_=0,v=0,x=0,w=e.src(),y=w.length,S=null!=e&&null!=e.log?(...t)=>e.log("lex",...t):void 0,A=this;function j(t,n){let r=A.match[t];if(null!=r){k.loc=_;for(let t of r){let r=t(_,w,k,e,n,A.bad);if(r)return _=r.sI,v=r.rD?v+r.rD:v,x=r.cD?x+r.cD:x,S&&S(s(k.pin),l(k.src),{...k}),k}}}let N=function(r){k.len=0,k.val=void 0,k.src=void 0,k.row=v;let u=o,N=null,C="",O=0,L=[],I=-1;e:for(;_<y;){let p=w[_],T=w.charCodeAt(_);if(o!==u){if(i===u){if(j(i,r))return k;let e=t.text.hoover?n.hoover_ender:n.text_ender;for(;null!=w[O]&&(!e.includes(w[O])||n.cmk0.includes(w[O])&&!n.cmk1.includes(w[O+1]));)x++,O++;if(k.len=O-_,k.pin=g,k.val=w.substring(_,O),k.src=k.val,t.text.hoover&&n.multi.SP.includes(k.val[k.val.length-1])){let e=k.val.length-2;for(;0<e&&n.multi.SP.includes(k.val[e]);)e--;k.val=k.val.substring(0,e+1),k.src=k.val,x-=k.len-e-1,k.len=k.val.length,_+=k.len}else _=O;return S&&S(s(k.pin),l(k.src),{...k}),k}if(c===u){if(j(c,r))return k;for(O=_;O<y&&!C.includes(w[O]);)O++,x++;return k.val+=w.substring(_,O),k.src=k.val,k.len=k.val.length,_=O,u=o,S&&S(s(k.pin),l(k.src),{...k}),k}if(a===u){if(j(a,r))return k;O=_;let e=1,i=N[0],c=N[1],p=t.balance[N[2]],d=!!N[3],m="",h=i.length,f=c.length;if(d){let e=_-1;for(;-1<e&&n.multi.SP.includes(w[e--]););m=n.multi.SP[0].repeat(_-e-2)}for(O+=i.length;O<y&&0<e;)c[0]===w[O]&&c===w.substring(O,O+f)?(O+=f,x+=f,e--):p&&i[0]===w[O]&&i===w.substring(O,O+h)?(O+=h,x+=f,e++):(t.char.row===w[O]?(v++,x=0):x++,O++);return k.val=w.substring(_,O),k.src=k.val,k.len=k.val.length,d&&(k.val=k.val.substring(h,k.val.length-f),k.val=k.val.replace(new RegExp(t.char.row+m,"g"),"\n"),k.val=k.val.substring(1,k.val.length-1)),_=O,u=o,S&&S(s(k.pin),l(k.src),{...k}),k}}else{if(j(o,r))return k;if(n.start.SP.includes(T)){for(k.pin=d,k.loc=_,k.col=x++,O=_+1;n.multi.SP.includes(w[O]);)x++,O++;return k.len=O-_,k.val=w.substring(_,O),k.src=k.val,_=O,S&&S(s(k.pin),l(k.src),{...k}),k}if(n.start.LN.includes(T)){for(k.pin=n.lex.core.LN,k.loc=_,k.col=x,O=_,x=0;n.multi.LN.includes(w[O]);)v+=t.char.row===w[O]?1:0,O++;return k.len=O-_,k.val=w.substring(_,O),k.src=k.val,_=O,S&&S(s(k.pin),l(k.src),{...k}),k}if(null!=n.single[T])return k.pin=n.single[T],k.loc=_,k.col=x++,k.len=1,k.src=p,_++,S&&S(s(k.pin),l(k.src),{...k}),k;if(n.start.NR.includes(T)){for(k.pin=h,k.loc=_,k.col=x,O=_;t.number.digital.includes(w[++O]););if((null==w[O]||n.value_ender.includes(w[O]))&&(k.len=O-_,1<k.len&&"0"===w[_]&&"x"!=w[_+1]?(k.val=void 0,O--):(k.val=+w.substring(_,O),t.number.underscore&&isNaN(k.val)&&(k.val=+w.substring(_,O).replace(/_/g,"")),isNaN(k.val)&&(k.val=void 0,O--))),null!=k.val)return k.src=w.substring(_,O),x+=k.len,_=O,S&&S(s(k.pin),l(k.src),{...k}),k}if(n.start_bm.includes(T)){let e=w.substring(_,_+n.bmk_maxlen);for(let r of n.bmk)if(e.startsWith(r)){k.pin=f,k.loc=_,k.col=x,u=a,N=[r,t.string.block[r],null,!0];continue e}}if(n.start.ST.includes(T)){k.pin=f,k.loc=_,k.col=x++;let r=p.charCodeAt(0),o=t.string.multiline.includes(p);for(L=[],I=-1,O=_+1;O<y;O++)if(x++,r===(I=w.charCodeAt(O))){if(!t.string.escapedouble||r!==w.charCodeAt(O+1)){O++;break}L.push(w[O]),O++}else if(92===I){let r=w.charCodeAt(++O);x++;let s=n.escape[r];if(null!=s)L.push(s);else if(117===r){O++;let n=String.fromCharCode("0x"+w.substring(O,O+4));if(t.char.bad_unicode===n)return A.bad(e,S,"invalid_unicode",k,_,O,v,x,w.substring(O-2,O+4));L.push(n),O+=3,x+=4}else L.push(w[O])}else if(I<32){if(!o||!n.start.LN.includes(I))return A.bad(e,S,"unprintable",k,_,O,v,x,w.charAt(O));L.push(w[O])}else{let e=O;do{I=w.charCodeAt(++O),x++}while(32<=I&&r!==I&&92!==I);x--,L.push(w.substring(e,O)),O--}return r!==I?(x=_,A.bad(e,S,"unterminated",k,_,O-1,v,x,L.join(""))):(k.val=L.join(""),k.src=w.substring(_,O),k.len=O-_,_=O,S&&S(s(k.pin),l(k.src),{...k}),k)}if(n.start_cm.includes(T)){let e=n.cm_single.includes(p),r=w.substring(_,_+n.cmk_maxlen);for(let s of n.cmk)if(r.startsWith(s)){if(!0!==t.comment[s]){k.pin=m,k.loc=_,k.col=x,k.val="",u=a,N=[s,t.comment[s],"comment"];continue e}e=!0;break}if(e){k.pin=m,k.loc=_,k.col=x,k.val="",u=c,C=n.multi.LN;continue e}}k.loc=_,k.col=x,O=_;do{x++,O++}while(null!=w[O]&&!n.value_ender.includes(w[O]));let g=w.substring(_,O),E=t.value[g];if(void 0!==E)return k.pin=b,k.val=E,k.src=g,k.len=O-_,_=O,S&&S(s(k.pin),l(k.src),{...k}),k;u=i}}return k.pin=p,k.loc=y,k.col=x,S&&S(s(k.pin),l(k.src),{...k}),k};return N.src=w,N}bad(e,t,n,r,s,l,o,i,c,a,p){return r.why=n,r.pin=u.token("#BD",e.config),r.loc=l,r.row=o,r.col=i,r.len=l-s+1,r.val=c,r.src=a,r.use=p,t&&t(u.token(r.pin,e.config),e.F(r.src),{...r},"error",n),r}lex(e,t){return null==e?this.match:(this.match[e]=this.match[e]||[],null!=t&&this.match[e].push(t),this.match[e])}clone(e){let t=new s(e);return u.deep(t.match,this.match),t}}var l;e.Lexer=s,function(e){e[e.open=0]="open",e[e.close=1]="close"}(l||(l={}));class o{constructor(e,t,n){this.id=t.rI++,this.name=e.name,this.spec=e,this.node=n,this.state=l.open,this.child=i,this.open=[],this.close=[]}process(e){let t=i;return l.open===this.state?t=this.spec.open(this,e):l.close===this.state&&(t=this.spec.close(this,e)),t}}e.Rule=o;let i={id:0,spec:{name:"norule"}};class c{constructor(e,t){this.name=e,this.def=t}open(e,t){let s,i=e,c="",a=t.F;this.def.before_open&&(s=this.def.before_open.call(this,e,t),e.node=s&&s.node||e.node);let u=null!=s&&s.done?{m:[]}:this.parse_alts(this.def.open,e,t);if(u.e)throw new r(n,{open:!0},u.e,e,t);return e.open=u.m,u.p?(t.rs.push(e),(i=e.child=new o(t.rsm[u.p],t,e.node)).parent=e,c+="U"):u.r?((i=new o(t.rsm[u.r],t,e.node)).parent=e.parent,c+="R"):c+="Z",this.def.after_open&&this.def.after_open.call(this,e,t,i),t.log&&t.log("node",e.name+"/"+e.id,l[e.state],c,a(e.node)),e.state=l.close,i}close(e,t){let s=i,c="";this.def.before_close&&this.def.before_close.call(this,e,t);let a=0<this.def.close.length?this.parse_alts(this.def.close,e,t):{};if(a.e)throw new r(n,{close:!0},a.e,e,t);return a.h&&(s=a.h(this,e,t)||s,c+="H"),a.p?(t.rs.push(e),(s=e.child=new o(t.rsm[a.p],t,e.node)).parent=e,c+="U"):a.r?((s=new o(t.rsm[a.r],t,e.node)).parent=e.parent,c+="R"):(s=t.rs.pop()||i,c+="O"),this.def.after_close&&this.def.after_close.call(this,e,t,s),s.why=c,t.log&&t.log("node",e.name+"/"+e.id,l[e.state],c,t.F(e.node)),s}parse_alts(e,t,n){let r,s=void 0,o=0,i=n.config.token;if(i.ZZ===n.t0.pin)s={m:[]};else if(0<e.length){for(o=0;o<e.length;o++)if(!(r=e[o]).c||r.c(r,t,n)){if(null==r.s||0===r.s.length){s={...r,m:[]};break}if(r.s[0]===n.t0.pin){if(1===r.s.length){s={...r,m:[n.t0]};break}if(r.s[1]===n.t1.pin){s={...r,m:[n.t0,n.t1]};break}}else if(i.AA===r.s[0]){s={...r,m:[n.t0]};break}}s=s||{e:n.t0,m:[]}}if(s=s||{m:[]},n.log&&n.log("parse",t.name+"/"+t.id,l[t.state],o<e.length?"alt="+o:"no-alt",o<e.length&&r&&r.s?"["+r.s.map(e=>i[e]).join(" ")+"]":"[]",n.tI,"p="+(s.p||""),"r="+(s.r||""),"b="+(s.b||""),s.m.map(e=>i[e.pin]).join(" "),n.F(s.m.map(e=>e.src)),s),s.m){let e=0,t=s.m.length-(s.b||0);for(;e++<t;)n.next()}return s}}e.RuleSpec=c;class a{constructor(e,t){this.rsm={},this.opts=e,this.config=t}init(){let e=this.config.token,t=e.OB,n=e.CB,r=e.OS,s=e.CS,l=e.CL,o=e.CA,i=e.TX,a=e.NR,p=e.ST,d=e.VL,m=e.AA,h={val:{open:[{s:[t,o],p:"map"},{s:[t],p:"map"},{s:[r],p:"list"},{s:[o],p:"list",b:1},{s:[i,l],p:"map",b:2},{s:[p,l],p:"map",b:2},{s:[a,l],p:"map",b:2},{s:[d,l],p:"map",b:2},{s:[i]},{s:[a]},{s:[p]},{s:[d]}],close:[{s:[o],c:(e,t,n)=>0===n.rs.length,r:"elem",h:(e,t,n)=>{t.node=[t.node]}},{s:[m],b:1}],before_close:e=>{var t,n;e.node=null!==(t=e.child.node)&&void 0!==t?t:null===(n=e.open[0])||void 0===n?void 0:n.val}},map:{before_open:()=>({node:{}}),open:[{s:[n]},{p:"pair"}],close:[]},list:{before_open:()=>({node:[]}),open:[{s:[s]},{p:"elem"}],close:[]},pair:{open:[{s:[p,l],p:"val"},{s:[i,l],p:"val"},{s:[a,l],p:"val"},{s:[d,l],p:"val"},{s:[n],b:1}],close:[{s:[n]},{s:[o],r:"pair"},{s:[p,l],r:"pair",b:2},{s:[i,l],r:"pair",b:2},{s:[a,l],r:"pair",b:2},{s:[d,l],r:"pair",b:2}],before_close:(e,t)=>{let r=e.open[0];if(r&&n!==r.pin){let n=p===r.pin?r.val:r.src,s=e.node[n];e.node[n]=null==s?e.child.node:t.opts.object.extend?u.deep(s,e.child.node):e.child.node}}},elem:{open:[{s:[t],p:"map"},{s:[r],p:"list"},{s:[i]},{s:[a]},{s:[p]},{s:[d]},{s:[o,o],b:2},{s:[o]}],close:[{s:[o,s]},{s:[o],r:"elem"},{s:[s]},{s:[t],p:"map"},{s:[r],p:"list"},{s:[i,l],p:"map",b:2},{s:[a,l],p:"map",b:2},{s:[p,l],p:"map",b:2},{s:[d,l],p:"map",b:2},{s:[i],r:"elem",b:1},{s:[a],r:"elem",b:1},{s:[p],r:"elem",b:1},{s:[d],r:"elem",b:1}],after_open:(e,t,n)=>{if(e===n&&e.open[0]){let t=e.open[0].val;e.node.push(null!=t?t:null)}},before_close:e=>{e.child.node&&e.node.push(e.child.node)}}};this.rsm=Object.keys(h).reduce((e,t)=>(e[t]=new c(t,h[t]),e),{})}rule(e,t){return this.rsm[e]=null==t?this.rsm[e]:t(this.rsm[e],this.rsm)||this.rsm[e],this.rsm[e]}start(e,t,n,r){let s,c=this.opts,a=this.config,p={rI:1,opts:c,config:a,meta:n||{},src:()=>t,root:()=>s.node,node:void 0,u2:e.end,u1:e.end,t0:e.end,t1:e.end,tI:-2,next:g,rs:[],rsm:this.rsm,log:n&&n.log||void 0,F:u.make_src_format(a),use:{}};null!=r&&(p=u.deep(p,r)),u.make_log(p);let d=e=>u.token(e,this.config),m=u.wrap_bad_lex(e.start(p),u.token("#BD",this.config),p),h=new o(this.rsm.val,p);s=h;let f=2*Object.keys(this.rsm).length*m.src.length*2*c.rule.maxmul;function g(e=!0){let t;p.u2=p.u1,p.u1=p.t0,p.t0=p.t1;do{t=m(h),p.tI++}while(e&&a.tokenset.IGNORE.includes(t.pin));return p.t1={...t},p.t0}g(),g();let b=0;for(;i!==h&&b<f;)p.log&&p.log("rule",h.name+"/"+h.id,l[h.state],p.rs.length,p.tI,"["+d(p.t0.pin)+" "+d(p.t1.pin)+"]","["+p.F(p.t0.src)+" "+p.F(p.t1.src)+"]",h,p),h=h.process(p),p.log&&p.log("stack",p.rs.length,p.rs.map(e=>e.name+"/"+e.id).join(";"),h,p),b++;return s.node}clone(e,t){let n=new a(e,t);return n.rsm=Object.keys(this.rsm).reduce((e,t)=>(e[t]=u.clone(this.rsm[t]),e),{}),n}}e.Parser=a;let u={token:function(e,t,n){let r=t.token,s=r[e];return null==s&&"string"==typeof e&&(s=t.tokenI++,r[s]=e,r[e]=s,r[e.substring(1)]=s,null!=n&&Object.assign(n.token,t.token)),s},deep:function(e,...n){let r="function"==typeof e,s=null!=e&&(t===typeof e||r);for(let l of n){let n="function"==typeof l,o=null!=l&&(t===typeof l||n);if(s&&o&&!n&&Array.isArray(e)===Array.isArray(l))for(let t in l)e[t]=u.deep(e[t],l[t]);else r="function"==typeof(e=void 0===l?e:n?l:o?u.deep(Array.isArray(l)?[]:{},l):l),s=null!=e&&(t===typeof e||r)}return e},clone:function(e){return u.deep(Object.create(Object.getPrototypeOf(e)),e)},s2cca:function(e){return e.split("").map(e=>e.charCodeAt(0))},longest:e=>e.reduce((e,t)=>e<t.length?t.length:e,0),make_src_format:e=>(t,n)=>null==t?"":(n=JSON.stringify(t)).substring(0,e.debug.maxlen)+(e.debug.maxlen<n.length?"...":""),make_log:e=>{if("number"==typeof e.log){let n=!1,r=e.log;-1===r&&(r=1,n=!0),e.log=(...s)=>{if(n){let n=s.filter(e=>t!=typeof e).join("\t");e.opts.debug.get_console().log(n)}else e.opts.debug.get_console().dir(s,{depth:r})}}},wrap_bad_lex:(e,t,s)=>{let l=l=>{let o=e(l);if(t===o.pin){let e={};throw null!=o.use&&(e.use=o.use),new r(o.why||n,e,o,l,s)}return o};return l.src=e.src,l},errinject:(e,t,n,r,s,l)=>e.replace(/\$([\w_]+)/g,(e,o)=>JSON.stringify("code"===o?t:n[o]||l.meta[o]||r[o]||s[o]||l[o]||l.opts[o]||l.config[o]||"$"+o)),extract:(e,t,n)=>{let r=0<n.loc?n.loc:0,s=0<n.row?n.row:0,l=0<n.col?n.col:0,o=null==n.src?"":n.src,i=e.substring(Math.max(0,r-333),r).split("\n"),c=e.substring(r,r+333).split("\n"),a=2+(""+(s+2)).length,u=s<2?0:s-2,p=e=>"[34m"+(""+u++).padStart(a," ")+" | [0m"+(null==e?"":e),d=i.length;return[2<d?p(i[d-3]):null,1<d?p(i[d-2]):null,p(i[d-1]+c[0])," ".repeat(a)+"   "+" ".repeat(l)+"[31m"+"^".repeat(o.length||1)+" "+t+"[0m",p(c[1]),p(c[2])].filter(e=>null!=e).join("\n")},handle_meta_mode:(e,t,n)=>{let s=e.options;if("function"!=typeof s.mode[n.mode])return[!1];try{return s.mode[n.mode].call(e,t,n)}catch(l){if("SyntaxError"===l.name){let o=0,i=0,c=0,a="",p=l.message.match(/^Unexpected token (.) .*position\s+(\d+)/i);if(p){a=p[1],o=parseInt(p[2]),i=t.substring(0,o).replace(/[^\n]/g,"").length;let e=o-1;for(;-1<e&&"\n"!==t.charAt(e);)e--;c=e<o?t.substring(e,o).length-1:0}let d=l.token||{pin:e.token.UK,loc:o,len:a.length,row:l.lineNumber||i,col:l.columnNumber||c,val:void 0,src:a};throw new r(l.code||"json",l.details||{msg:l.message},d,{},l.ctx||{rI:-1,opts:s,config:{token:{}},token:{},meta:n,src:()=>t,root:()=>{},node:void 0,u2:d,u1:d,t0:d,t1:d,tI:-1,rs:[],next:()=>d,rsm:{},log:n.log,F:u.make_src_format(e.internal().config),use:{}})}throw l}},build_config_from_options:function(e,t){let n=Object.keys(t.token);n.forEach(t=>u.token(t,e));let r=n.filter(e=>null!=t.token[e].c);e.single=r.reduce((n,r)=>{return n[(s=t.token[r].c,s.charCodeAt(0))]=e.token[r],n;var s},[]);let s=n.filter(e=>"string"==typeof t.token[e]);e.start=s.reduce((e,n)=>(e[n.substring(1)]=u.s2cca(t.token[n]),e),{}),e.multi=s.reduce((e,n)=>(e[n.substring(1)]=t.token[n],e),{});let l=n.filter(e=>null!=t.token[e].s);if(e.tokenset=l.reduce((n,r)=>(n[r.substring(1)]=t.token[r].s.split(",").map(t=>e.token[t]),n),{}),t.escape=t.escape||{},e.escape=Object.keys(t.escape).reduce((e,n)=>(e[n.charCodeAt(0)]=t.escape[n],e),[]),e.start_cm=[],e.cm_single="",e.cmk=[],e.cmk0="",e.cmk1="",t.comment){let n=Object.keys(t.comment);n.forEach(t=>{1===t.length?(e.start_cm.push(t.charCodeAt(0)),e.cm_single+=t):(e.start_cm.push(t.charCodeAt(0)),e.cmk.push(t),e.cmk0+=t[0],e.cmk1+=t[1])}),e.cmk_maxlen=u.longest(n)}e.start_cm_char=e.start_cm.map(e=>String.fromCharCode(e)).join(""),e.start_bm=[],e.bmk=[];let o=Object.keys(t.string.block);o.forEach(t=>{e.start_bm.push(t.charCodeAt(0)),e.bmk.push(t)}),e.bmk_maxlen=u.longest(o),e.single_char=e.single.map((e,t)=>String.fromCharCode(t)).join(""),e.value_ender=e.multi.SP+e.multi.LN+e.single_char+e.start_cm_char,e.text_ender=e.value_ender,e.hoover_ender=e.multi.LN+e.single_char+e.start_cm_char,e.lex={core:{LN:u.token(t.lex.core.LN,e)}},e.debug=t.debug}};function p(e,n){let r,l=e;"function"==typeof e&&(l={},n=e);let o,i,c=u.deep({},n?{...n.options}:{escape:{b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},char:{row:"\n",bad_unicode:String.fromCharCode("0x0000")},comment:{"#":!0,"//":!0,"/*":"*/"},balance:{comment:!0},number:{digital:"-1023456789._xeEaAbBcCdDfF+",underscore:!0},string:{multiline:"`",block:{"'''":"'''"},escapedouble:!1},text:{hoover:!0,endofline:!1},object:{extend:!0},value:{null:null,true:!0,false:!1},mode:{},plugin:{},debug:{get_console:()=>console,maxlen:33},error:{unknown:"unknown error: $code",unexpected:"unexpected character(s): $src"},hint:((e=((e,t="replace")=>e[t](/[A-Z]/g,e=>" "+e.toLowerCase())[t](/[~%][a-z]/g,e=>("~"==e[0]?" ":"")+e[1].toUpperCase())),t="~sinceTheErrorIsUnknown,ThisIsProbablyABugInsideJsonicItself.\nPleaseConsiderPostingAGithubIssue -Thanks!|~theCharacter(s) $srcShouldNotOccurAtThisPointAsItIsNot\nvalid %j%s%o%nSyntax,EvenUnderTheRelaxedJsonicRules.~ifItIsNot\nobviouslyWrong,TheActualSyntaxErrorMayBeElsewhere.~try\ncommentingOutLargerAreasAroundThisPointUntilYouGetNoErrors,\nthenRemoveTheCommentsInSmallSectionsUntilYouFindThe\noffendingSyntax.|~but~i %j%s%o%nMustExplainToYouHowAllThisMistakenIdeaOf\nreprobatingPleasureAndExtollingPainArose.~toDoSo,~iWillGive\nyouACompleteAccountOfTheSystem,AndExpoundTheActual\nteachingsOfTheGreatExplorerOfTheTruth,TheMaster-builderOf\nhumanHappiness.".split("|"))=>"unknown|unexpected|invalid_unicode".split("|").reduce((n,r,s)=>(n[r]=e(t[s]),n),{}))(),token:{"#OB":{c:"{"},"#CB":{c:"}"},"#OS":{c:"["},"#CS":{c:"]"},"#CL":{c:":"},"#CA":{c:","},"#SP":" \t","#LN":"\n\r","#CM":!0,"#NR":"-0123456789","#ST":"\"'`","#TX":!0,"#VL":!0,"#BD":!0,"#ZZ":!0,"#UK":!0,"#AA":!0,"#IGNORE":{s:"#SP,#LN,#CM"}},lex:{core:{LN:"#LN"}},rule:{maxmul:3}},l),d=function(e,t,n){if("string"==typeof e){let r=d.internal(),[s,l]=null!=t&&null!=t.mode?u.handle_meta_mode(d,e,t):[!1];return s||(l=r.parser.start(r.lexer,e,t,n)),l}return e};if(d.token=function(e){return u.token(e,r,d)},n){for(let t in n)d[t]=n[t];d.parent=n;let e=n.internal();r=u.deep({},e.config),u.build_config_from_options(r,c),Object.assign(d.token,r.token),o=e.lexer.clone(r),i=e.parser.clone(c,r)}else r={tokenI:1,token:{}},u.build_config_from_options(r,c),o=new s(r),(i=new a(c,r)).init();return Object.assign(d.token,r.token),d.internal=()=>({lexer:o,parser:i,config:r}),d.options=u.deep(e=>{if(null!=e&&t===typeof e){u.build_config_from_options(r,u.deep(c,e));for(let e in c)d.options[e]=c[e]}return d},c),d.parse=d,d.use=function(e,t){return d.options({plugin:{[e.name]:t||{}}}),e(d)||d},d.rule=function(e,t){let n=d.internal().parser.rule(e,t);return null==t?n:d},d.lex=function(e,t){let n=d.internal().lexer.lex(e,t);return null==t?n:d},d.make=function(e){return p(e,d)},Object.defineProperty(d.make,"name",{value:"make"}),d}e.util=u,e.make=p;let d=p();return e.Jsonic=d,e}));